(this["webpackJsonppay-button"]=this["webpackJsonppay-button"]||[]).push([[0],{258:function(e,t,n){},268:function(e,t,n){"use strict";n.r(t);var a=n(7),i=n(0),s=n.n(i),o=n(14),r=n.n(o),c=n(18),l=n(116),u=n.n(l),d=n(45),b=n(312),p=n(318),j=(n(258),n(28)),h=(n(112),n(113),n(15)),m=n(85),g=n(321),x=n(118),O=n(311),f=n(307),v=n(310),w=n(4),y=n(319),S=n(164),B=(n(263),new j.a.auth.GoogleAuthProvider),P=new j.a.auth.GithubAuthProvider,C=s.a.forwardRef((function(e,t){return Object(a.jsx)(f.a,Object(m.a)({direction:"up",ref:t},e))})),A=Object(v.a)((function(e){var t;return{gitBtn:{backgroundColor:"#444"},socialLogCon:(t={boxSizing:"border-box",display:"flex",alignItems:"center",padding:2,width:"100%"},Object(h.a)(t,"padding","8px 10px"),Object(h.a)(t,"cursor","pointer"),Object(h.a)(t,"marginBottom",10),Object(h.a)(t,"borderRadius",5),t),LogTextField:{width:"100%",margin:0,marginBottom:6}}}));var k=function(e){var t=A(),n=e.openLoginPopup,s=(e.setLoginPopup,Object(d.b)().enqueueSnackbar),o=Object(i.useState)(!1),r=Object(c.a)(o,2),l=(r[0],r[1]),u=function(){e.setLoginPopup(!1)},p=function(){l(!1)};return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(g.a,{open:n,onEscapeKeyDown:function(){return u()},onClose:function(){return u()},TransitionComponent:C,maxWidth:"sm",fullWidth:!0,children:Object(a.jsx)(O.a,{children:Object(a.jsxs)("div",{style:{color:"#67666e",height:"100%",backgroundColor:"#fff",width:"100%",margin:"10px 0px 40px 0px"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(x.a,{variant:"h3",component:"h1",style:{textAlign:"center",fontSize:"2rem",fontWeight:100},children:"Login Account"})}),Object(a.jsxs)("div",{style:{margin:"0px auto",marginTop:60,width:"90%"},children:[Object(a.jsxs)("div",{onClick:function(){j.a.auth().signInWithPopup(B).then((function(t){t.credential.accessToken,t.user;e.setLoginPopup(!1),e.sendBsv(null,!0)})).catch((function(e){e.email,e.credential;s(e.message,{variant:"error"})}))},className:Object(w.a)(t.socialLogCon,"btn-google text-white"),children:[Object(a.jsx)("div",{className:"fa fa-google text-white",style:{width:"10%"}}),Object(a.jsx)("div",{style:{width:"80%",textAlign:"center"},children:"Sign in with Google"})]}),Object(a.jsxs)("div",{className:Object(w.a)(t.socialLogCon,t.gitBtn,"btn-github text-white"),onClick:function(){j.a.auth().signInWithPopup(P).then((function(t){t.credential.accessToken,t.user;e.isPopup&&(e.setLoginPopup(!1),e.sendBsv(null,!0))})).catch((function(e){e.email,e.credential;s(e.message,{variant:"error"})}))},children:[Object(a.jsx)("div",{className:"fa fa-github text-white",style:{width:"10%"}}),Object(a.jsx)("div",{style:{width:"80%",textAlign:"center"},children:" Sign in with Github"})]})]}),Object(a.jsx)("p",{style:{textAlign:"center",margin:"25px 0px 5px 0px"},children:"OR"}),Object(a.jsx)(S.a,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Field is not valid"):t.email="Required field",e.password||(t.password="Required field"),t},onSubmit:function(t,n){var a=n.setStatus,i=n.setSubmitting;l(!0),setTimeout((function(){j.a.auth().signInWithEmailAndPassword(t.email,t.password).then((function(){p(),e.setLoginPopup(!1),e.sendBsv(null,!0)})).catch((function(e){p(),i(!1),s(e.message,{variant:"error"}),a("The login detail is incorrect")}))}),1e3)},children:function(e){var n=e.values,i=(e.status,e.errors),s=e.touched,o=e.handleChange,r=e.handleBlur,c=e.handleSubmit,l=e.isSubmitting;return Object(a.jsxs)("form",{noValidate:!0,autoComplete:"off",style:{width:"90%",margin:"0px auto",marginTop:-10},onSubmit:c,children:[Object(a.jsx)(y.a,{type:"email",label:"Email",margin:"normal",className:t.LogTextField,name:"email",onBlur:r,onChange:o,value:n.email,helperText:s.email&&i.email,error:Boolean(s.email&&i.email)}),Object(a.jsx)(y.a,{type:"password",margin:"normal",label:"Password",className:t.LogTextField,name:"password",onBlur:r,onChange:o,value:n.password,helperText:s.password&&i.password,error:Boolean(s.password&&i.password)}),Object(a.jsx)("div",{style:{display:"flex",marginTop:15},children:Object(a.jsx)(b.a,{id:"kt_login_signin_submit",type:"submit",disabled:l,style:{marginTop:20,marginLeft:"auto"},variant:"contained",color:"primary",children:"Sign In"})})]})}})]})})})})},L=n(117),T=n.n(L),I=n(162),W=n(30),R=n(313),N=n(315),V=n(314),D=n(163),F=n.n(D),z=n(323),E=n(322),q=n(324),G=n(316),_=n(317),K=(n(269),s.a.forwardRef((function(e,t){return Object(a.jsx)(f.a,Object(m.a)({direction:"up",ref:t},e))}))),U=Object(v.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var Z=function(e){var t=U(),n=Object(d.b)().enqueueSnackbar,s=(Object(W.a)(),Object(i.useState)("")),o=Object(c.a)(s,2),r=o[0],l=o[1],u=Object(i.useState)(""),h=Object(c.a)(u,2),m=h[0],x=h[1],f=Object(i.useState)(!1),v=Object(c.a)(f,2),w=v[0],S=v[1],B=function(){var t=Object(I.a)(T.a.mark((function t(){var a,i;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=j.a.functions().httpsCallable("walletPayButton"),t.next=3,a({amount:m,address:r});case 3:i=t.sent,console.log("res recieved",i),i&&i.data&&(i.data.status&&"error"===i.data.status?(n(i.data.msg,{variant:"error"}),S(!1)):i.data.status&&"success"===i.data.status&&(n(i.data.msg,{variant:"success"}),S(!1),e.setopenBsvPopup(!1),x(""),l("")));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)(g.a,{open:e.openBsvPopup,TransitionComponent:K,keepMounted:!0,fullWidth:!0,maxWidth:"sm",children:[Object(a.jsx)(R.a,{disabled:w,"aria-label":"close",className:t.closeButton,onClick:function(){return e.setopenBsvPopup(!1)},children:Object(a.jsx)(F.a,{})}),Object(a.jsx)(V.a,{style:{paddingBottom:1},children:"Send BSVs"}),Object(a.jsxs)(O.a,{children:[Object(a.jsxs)(N.a,{style:{marginBottom:0},children:["BSV (1 BSV = ",e.bsvRate," USD)",Object(a.jsx)("br",{}),"Account: ",e.userData?e.userData.email:"-"]}),Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:10,marginTop:20,width:"80%"},children:[Object(a.jsxs)(z.a,{className:"custom-padding",fullWidth:!0,variant:"outlined",children:[Object(a.jsx)(q.a,{htmlFor:"standard-adornment-amount",children:"Amount"}),Object(a.jsx)(E.a,{type:"number",autoFocus:!0,id:"standard-adornment-amount",value:m,onChange:function(e){x(e.target.value)},startAdornment:Object(a.jsx)(G.a,{position:"start",children:"$"}),labelWidth:60})]}),Object(a.jsx)(y.a,{fullWidth:!0,value:r,onChange:function(e){l(e.target.value)},label:"Recipient Address",variant:"outlined",className:"custom-padding",style:{marginTop:10}})]}),Object(a.jsx)(b.a,{onClick:function(){j.a.auth().signOut().then((function(){e.setopenBsvPopup(!1),e.sendBsv()}))},color:"primary",children:"switch account"})]}),Object(a.jsxs)(_.a,{children:[Object(a.jsx)(b.a,{disabled:w,color:"primary",onClick:function(){return e.setopenBsvPopup(!1)},children:"Cancel"}),Object(a.jsx)(b.a,{onClick:function(){S(!0);var e=!0;0===r.length&&(e=!1,n("Please enter the address!",{variant:"error"})),0===m.length&&(e=!1,n("Please enter the amount!",{variant:"error"})),e?B():S(!1)},disabled:w,color:"primary",style:{width:100},children:w?Object(a.jsx)(p.a,{size:20}):"Send BSV"})]})]})};var H=function(){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),n=t[0],s=(t[1],Object(d.b)().enqueueSnackbar),o=Object(i.useState)(!1),r=Object(c.a)(o,2),l=r[0],h=r[1],m=Object(i.useState)(!1),g=Object(c.a)(m,2),x=g[0],O=g[1],f=Object(i.useState)(100),v=Object(c.a)(f,2),w=v[0],y=v[1],S=Object(i.useState)(null),B=Object(c.a)(S,2),P=B[0],C=B[1];Object(i.useEffect)((function(){console.log("runnnn 123"),j.a.database().ref("stats/market_price_usd").once("value").then((function(e){e.val()&&y(e.val())}))}),[]);var A=function(e,t){t?(console.log("start transction"),j.a.auth().onAuthStateChanged((function(e){e?(console.log("user avliable"),C(e),O(!0)):(console.log("user not avliable"),h(!0))}))):s("Press and hold the Button for 2 seconds",{variant:"info"})},L=Object(a.jsx)(k,{openLoginPopup:l,setLoginPopup:h,sendBsv:A}),T=Object(a.jsx)(Z,{userData:P,bsvRate:w,openBsvPopup:x,walletObj:{},setopenBsvPopup:O,sendBsv:A});return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(u.a,{time:1.5,onEnd:A,children:Object(a.jsx)(b.a,{variant:"contained",disabled:n,color:"primary",children:n?Object(a.jsx)(p.a,{size:20}):"Send BSV"})}),L,T]})};j.a.initializeApp({apiKey:"AIzaSyDiAjG-iuYAORff9qoaQQHVAaBzU49HViM",authDomain:"vaionexdev.firebaseapp.com",projectId:"vaionexdev",messagingSenderId:"540169846332",appId:"1:540169846332:web:f3c5e00aa07b48d2db8d39",measurementId:"G-2SF16EW2KV",databaseURL:"https://vaionexdev.firebaseio.com/"}),r.a.render(Object(a.jsx)(d.a,{maxSnack:6,children:Object(a.jsx)(H,{})}),document.getElementById("pay-button-root"))}},[[268,1,2]]]);
//# sourceMappingURL=main.670f0897.chunk.js.map